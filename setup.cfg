[metadata]
name = farm-haystack
version = file: VERSION.txt
url = https://github.com/deepset-ai/haystack
project_urls =
    Docs: RTD = https://haystack.deepset.ai/overview/intro
    CI: GitHub = https://github.com/deepset-ai/haystack/actions
    GitHub: issues = https://github.com/deepset-ai/haystack/issues
    GitHub: repo = https://github.com/deepset-ai/haystack
description = Neural Question Answering & Semantic Search at Scale. Use modern transformer based models like BERT to find answers in large document collections
long_description = file: README.md
long_description_content_type = text/markdown
keywords=
    QA 
    Question-Answering 
    Reader 
    Retriever 
    semantic-search 
    search 
    BERT 
    roberta 
    albert 
    squad 
    mrc 
    transfer-learning 
    language-model 
    transformer
author = deepset.ai
author_email = malte.pietsch@deepset.ai
license = Apache License 2.0
license_file = LICENSE
platforms = any
classifiers =
    Development Status :: 5 - Production/Stable
    Intended Audience :: Science/Research
    License :: Freely Distributable
    License :: OSI Approved :: Apache Software License
    Topic :: Scientific/Engineering :: Artificial Intelligence
    Operating System :: OS Independent
    Programming Language :: Python
    Programming Language :: Python :: 3
    Programming Language :: Python :: 3.7
    Programming Language :: Python :: 3.8
    Programming Language :: Python :: 3.9
    Programming Language :: Python :: 3.10

[options]
use_scm_version = True
python_requires = >=3.7
packages = find:
setup_requires =
    setuptools
    wheel
install_requires =
    importlib-metadata; python_version < '3.8'
    torch >1.9, <1.11
    requests >=2.27, <3
    pydantic >=1.9, <2
    transformers ==4.13.0
    nltk >=3.6, <4
    pandas >=1.3, <2

    # Utils
    dill >=0.3, <1 # pickle extension for (de-)serialization
    tqdm >=4.62, <5 # progress bars in model download and training scripts
    networkx >=2.6, <3 # graphs library
    mmh3 >=3.0, <4 # fast hashing function (murmurhash3)
    quantulum3 >=0.7, <1 # quantities extraction from text
    azure-ai-formrecognizer ==3.2.0b2  # forms reader

    # Preprocessing
    more_itertools >=8.12, <9 # for windowing
    python-docx >= 0.8, <1
    langdetect >=1.0, <2  # for PDF conversions
    tika >=1.24, <2 # Apache Tika (text & metadata extractor)

    # See haystack/nodes/retriever/_embedding_encoder.py, _SentenceTransformersEmbeddingEncoder
    sentence-transformers >=0.4.0, <1

    # for stats in run_classifier
    scipy >=1.6, <2
    scikit-learn >=1.0.0, <2

    # Metrics and logging
    seqeval >= 1.2, <2
    mlflow <=1.13.1

    # Elasticsearch
    elasticsearch >=7.7, <=7.10
    elastic-apm >=6.7, <7

    # Not found in repo, to review:
    #uvloop==0.14; sys_platform != 'win32' and sys_platform != 'cygwin'


[options.packages.find]
exclude =
    rest_api*
    test*
    tutorials*
    ui*


[options.extras_require]
sql = 
    sqlalchemy >=1.4.2, <2
    sqlalchemy_utils >=0.38, <2
    psycopg2-binary >=2.9, <3; sys_platform != 'win32' and sys_platform != 'cygwin'
only-faiss = 
    faiss-cpu >=1.6.3, <2
faiss = 
    farm-haystack[sql,only-faiss]
only-faiss-gpu = 
    faiss-gpu >=1.6.3, <2
faiss-gpu = 
    farm-haystack[sql,only-faiss-gpu]
only-milvus1 = 
    pymilvus >=1.0.0, <2.0.0  # Refer milvus version support matrix at https://github.com/milvus-io/pymilvus#install-pymilvus
milvus1 = 
    farm-haystack[sql,only-milvus1]
only-milvus = 
    pymilvus >=2.0.0, <3  # Refer milvus version support matrix at https://github.com/milvus-io/pymilvus#install-pymilvus
milvus = 
    farm-haystack[sql,only-milvus]
weaviate =
    weaviate-client ==2.5.0
graphdb = 
    SPARQLWrapper >=1.8, <2
docstores =
    farm-haystack[faiss,milvus1,weaviate,graphdb]
docstores-gpu =
    farm-haystack[faiss-gpu,milvus1,weaviate,graphdb]
crawler = 
    selenium >=4, <5
    webdriver-manager >=3.5, <4
preprocessing = 
    beautifulsoup4 >=4, <5
    markdown >=3.3, <4
ocr = 
    pytesseract ==0.3.7
    pillow >=9, <10
    pdf2image ==1.14.0
onnx = 
    onnxruntime >=1.10, <1.11
    onnxruntime_tools >=1.7, <1.8
onnx-gpu = 
    onnxruntime-gpu >=1.10, <1.11
    onnxruntime_tools >=1.7, <1.8
ray = 
    ray >=1.9.1, <2
colab = 
    grpcio ==1.43.0
    torch ==1.10.2

    alembic==1.4.1
        # via mlflow
    azure-ai-formrecognizer==3.2.0b2
        # via farm-haystack (setup.py)
    azure-common==1.1.27
        # via azure-ai-formrecognizer
    azure-core==1.21.1
        # via
        #   azure-ai-formrecognizer
        #   azure-storage-blob
    azure-storage-blob==12.9.0
        # via mlflow
    certifi==2021.10.8
        # via
        #   elastic-apm
        #   elasticsearch
        #   msrest
        #   requests
    cffi==1.15.0
        # via cryptography
    charset-normalizer==2.0.11
        # via requests
    click==8.0.3
        # via
        #   databricks-cli
        #   flask
        #   mlflow
        #   nltk
        #   sacremoses
    cloudpickle==2.0.0
        # via mlflow
    cryptography==36.0.1
        # via azure-storage-blob
    databricks-cli==0.16.2
        # via mlflow
    dill==0.3.4
        # via farm-haystack (setup.py)
    docker==5.0.3
        # via mlflow
    docopt==0.6.2
        # via num2words
    elastic-apm==6.7.2
        # via farm-haystack (setup.py)
    elasticsearch==7.10.0
        # via farm-haystack (setup.py)
    entrypoints==0.3
        # via mlflow
    filelock==3.4.2
        # via
        #   huggingface-hub
        #   transformers
    flask==2.0.2
        # via
        #   mlflow
        #   prometheus-flask-exporter
    gitdb==4.0.9
        # via gitpython
    gitpython==3.1.26
        # via mlflow
    greenlet==1.1.2
        # via sqlalchemy
    gunicorn==20.1.0
        # via mlflow
    huggingface-hub==0.4.0
        # via transformers
    idna==3.3
        # via requests
    inflect==5.4.0
        # via quantulum3
    isodate==0.6.1
        # via msrest
    itsdangerous==2.0.1
        # via flask
    jinja2==3.0.3
        # via flask
    joblib==1.1.0
        # via
        #   nltk
        #   sacremoses
        #   scikit-learn
    langdetect==1.0.9
        # via farm-haystack (setup.py)
    lxml==4.7.1
        # via python-docx
    mako==1.1.6
        # via alembic
    markupsafe==2.0.1
        # via
        #   jinja2
        #   mako
    mlflow==1.13.1
        # via farm-haystack (setup.py)
    mmh3==3.0.0
        # via farm-haystack (setup.py)
    more-itertools==8.12.0
        # via farm-haystack (setup.py)
    msrest==0.6.21
        # via
        #   azure-ai-formrecognizer
        #   azure-storage-blob
    networkx==2.6.3
        # via farm-haystack (setup.py)
    nltk==3.6.7
        # via
        #   farm-haystack (setup.py)
        #   sentence-transformers
    num2words==0.5.10
        # via quantulum3
    numpy==1.22.1
        # via
        #   mlflow
        #   pandas
        #   scikit-learn
        #   scipy
        #   sentence-transformers
        #   seqeval
        #   transformers
    oauthlib==3.2.0
        # via requests-oauthlib
    packaging==21.3
        # via
        #   huggingface-hub
        #   transformers
    pandas==1.4.0
        # via
        #   farm-haystack (setup.py)
        #   mlflow
    prometheus-client==0.13.1
        # via prometheus-flask-exporter
    prometheus-flask-exporter==0.18.7
        # via mlflow
    protobuf==3.19.4
        # via mlflow
    pycparser==2.21
        # via cffi
    pydantic==1.9.0
        # via farm-haystack (setup.py)
    pyparsing==3.0.7
        # via packaging
    python-dateutil==2.8.2
        # via
        #   alembic
        #   mlflow
        #   pandas
    python-docx==0.8.11
        # via farm-haystack (setup.py)
    python-editor==1.0.4
        # via alembic
    pytz==2021.3
        # via pandas
    pyyaml==6.0
        # via
        #   huggingface-hub
        #   mlflow
        #   transformers
    quantulum3==0.7.9
        # via farm-haystack (setup.py)
    querystring-parser==1.2.4
        # via mlflow
    regex==2022.1.18
        # via
        #   nltk
        #   sacremoses
        #   transformers
    requests==2.27.1
        # via
        #   azure-core
        #   databricks-cli
        #   docker
        #   farm-haystack (setup.py)
        #   huggingface-hub
        #   mlflow
        #   msrest
        #   requests-oauthlib
        #   tika
        #   transformers
    requests-oauthlib==1.3.1
        # via msrest
    sacremoses==0.0.47
        # via transformers
    scikit-learn==1.0.2
        # via
        #   farm-haystack (setup.py)
        #   sentence-transformers
        #   seqeval
    scipy==1.7.3
        # via
        #   farm-haystack (setup.py)
        #   scikit-learn
        #   sentence-transformers
    sentence-transformers==0.4.1.2
        # via farm-haystack (setup.py)
    sentencepiece==0.1.96
        # via sentence-transformers
    seqeval==1.2.2
        # via farm-haystack (setup.py)
    six==1.16.0
        # via
        #   azure-ai-formrecognizer
        #   azure-core
        #   databricks-cli
        #   isodate
        #   langdetect
        #   mlflow
        #   python-dateutil
        #   querystring-parser
        #   sacremoses
    smmap==5.0.0
        # via gitdb
    sqlalchemy==1.4.31
        # via
        #   alembic
        #   mlflow
    sqlparse==0.4.2
        # via mlflow
    tabulate==0.8.9
        # via databricks-cli
    threadpoolctl==3.1.0
        # via scikit-learn
    tika==1.24
        # via farm-haystack (setup.py)
    tokenizers==0.10.3
        # via transformers
    torch==1.10.2
        # via
        #   farm-haystack (setup.py)
        #   sentence-transformers
    tqdm==4.62.3
        # via
        #   farm-haystack (setup.py)
        #   huggingface-hub
        #   nltk
        #   sacremoses
        #   sentence-transformers
        #   transformers
    transformers==4.13.0
        # via
        #   farm-haystack (setup.py)
        #   sentence-transformers
    typing-extensions==4.0.1
        # via
        #   huggingface-hub
        #   pydantic
        #   torch
    urllib3==1.26.8
        # via
        #   elastic-apm
        #   elasticsearch
        #   requests
    websocket-client==1.2.3
        # via docker
    werkzeug==2.0.2
        # via flask

rest =
    fastapi
    uvicorn
    gunicorn
    python-multipart  # optional FastAPI dependency for form data
ui = 
    streamlit >=1.2.0, <2
    st-annotated-text >=2.0.0, <3
    markdown >=3.3.4, <4
dev = 
    mypy >=0.900
    pytest >=6
    responses >= 0.17, <1
    tox >=3, <4
    python-multipart <1
    psutil >=5, <6
    pylint >=2
    black >=22
test = 
    farm-haystack[docstores,crawler,preprocessing,ocr,ray,rest,ui,dev]
all =
    farm-haystack[docstores,crawler,preprocessing,ocr,ray,rest,ui,dev,onnx]
all-gpu =
    farm-haystack[docstores-gpu,crawler,preprocessing,ocr,ray,rest,ui,dev,onnx-gpu]


[tool:pytest]
testpaths = 
    test
    rest_api/test
    ui/test
python_files =
    test_*.py
addopts =
    -vv


[mypy]
warn_return_any = false
warn_unused_configs = true
ignore_missing_imports = true
plugins = pydantic.mypy


[tox]
requires = tox-venv
           setuptools >= 30.0.0
envlist = py36,py37
